---
name: context-engineering-collection
description: コンテキストエンジニアリング、マルチエージェントアーキテクチャ、および本番エージェントシステムのためのエージェントスキルの包括的なコレクション。効果的なコンテキスト管理を必要とするエージェントシステムの構築、最適化、またはデバッグ時に使用してください。
---

# コンテキストエンジニアリングのためのエージェントスキル

このコレクションは、効果的なコンテキストエンジニアリングを通じて、本番グレードのAIエージェントシステムを構築するための体系的なガイダンスを提供します。

## 有効化のタイミング

以下の場合にこれらのスキルを有効化してください：
- エージェントシステムをゼロから構築する場合
- 既存のエージェントのパフォーマンスを最適化する場合
- コンテキスト関連の障害をデバッグする場合
- マルチエージェントアーキテクチャを設計する場合
- エージェント用のツールを作成または評価する場合
- メモリおよび永続化レイヤーを実装する場合

## スキルマップ

### 基礎的なコンテキストエンジニアリング

**コンテキストの基礎を理解する**
コンテキストは単なるプロンプトテキストではありません。それは推論時に言語モデルが利用できる完全な状態であり、システム指示、ツール定義、取得されたドキュメント、メッセージ履歴、およびツール出力を含みます。効果的なコンテキストエンジニアリングとは、目の前のタスクにとってどの情報が本当に重要かを理解し、信号対雑音比を最大化するためにその情報をキュレーションすることを意味します。

**コンテキストの劣化を認識する**
言語モデルはコンテキストが大きくなるにつれて予測可能な劣化パターンを示します：コンテキストの中央にある情報への注意が低下する「迷子効果（lost-in-middle）」現象、先頭と末尾を優先するU字型のアテンション曲線、エラーが複合するコンテキストポイズニング、そして無関係な情報が関連コンテンツを圧倒するコンテキストディストラクションです。

### アーキテクチャパターン

**マルチエージェント協調**
本番環境のマルチエージェントシステムは、3つの主要なパターンに収束します：集中制御を備えたスーパーバイザー／オーケストレーターアーキテクチャ、柔軟なハンドオフのためのピアツーピアスウォームアーキテクチャ、そして複雑なタスク分解のための階層構造です。重要な洞察は、サブエージェントは組織的な役割をシミュレートするためではなく、主にコンテキストを分離するために存在するということです。

**メモリシステム設計**
メモリアーキテクチャは、シンプルなスクラッチパッドから高度な時間的ナレッジグラフまで多岐にわたります。ベクトルRAGはセマンティック検索を提供しますが、関係性の情報が失われます。ナレッジグラフは構造を保持しますが、より多くのエンジニアリング投資が必要です。ファイルシステムをメモリとして使用するパターンは、コンテキストウィンドウを詰め込むことなく、ジャストインタイムのコンテキスト読み込みを可能にします。

**ファイルシステムベースのコンテキスト**
ファイルシステムは、事実上無制限のコンテキストを保存、取得、更新するための単一のインターフェースを提供します。主要なパターンには、ツール出力のオフロード用スクラッチパッド、長期的なタスクのための計画の永続化、共有ファイルを介したサブエージェント通信、および動的なスキル読み込みが含まれます。エージェントは `ls`、`glob`、`grep`、および `read_file` を使用してターゲットを絞ったコンテキスト探索を行い、構造的なクエリではセマンティック検索を上回ることがよくあります。

**ホステッドエージェントインフラストラクチャ**
バックグラウンドコーディングエージェントは、ローカルマシンではなくリモートのサンドボックス環境で実行されます。主要なパターンには、定期的なケイデンスで更新されるビルド済み環境イメージ、即時セッション開始のためのウォームサンドボックスプール、セッション永続化のためのファイルシステムスナップショット、および協調エージェントセッションのためのマルチプレイヤーサポートが含まれます。重要な最適化には、git同期が完了する前のファイル読み取りの許可（書き込みのみブロック）、ユーザーの入力開始時の予測的サンドボックスウォーミング、および並列タスク実行のための自己スポーンエージェントが含まれます。

**ツール設計原則**
ツールは決定論的システムと非決定論的エージェント間の契約です。効果的なツール設計は統合原則に従い（複数の狭いツールよりも単一の包括的なツールを優先）、エラーにコンテキスト情報を返し、トークン効率のためのレスポンスフォーマットオプションをサポートし、明確な名前空間を使用します。

### 運用の卓越性

**コンテキスト圧縮**
エージェントセッションがメモリを使い果たした場合、圧縮は必須となります。正しい最適化目標は、リクエストあたりのトークンではなく、タスクあたりのトークンです。ファイル、決定事項、次のステップの明示的なセクションを持つ構造化された要約は、積極的な圧縮よりも有用な情報を多く保持します。アーティファクトトレイルの整合性は、すべての圧縮方法において最も弱い次元です。

**コンテキスト最適化**
テクニックには、コンパクション（制限に近いコンテキストの要約）、オブザベーションマスキング（冗長なツール出力を参照に置換）、プレフィックスキャッシング（リクエスト間でのKVブロックの再利用）、および戦略的コンテキストパーティショニング（分離されたコンテキストを持つサブエージェント間での作業分割）が含まれます。

**評価フレームワーク**
本番エージェントの評価には、事実の正確性、完全性、ツールの効率性、およびプロセスの品質をカバーする多次元のルーブリックが必要です。効果的なパターンには、スケーラビリティのためのLLM-as-judge、エッジケースのための人間による評価、および永続的な状態を変更するエージェントのための最終状態評価が含まれます。

### 開発方法論

**プロジェクト開発**
効果的なLLMプロジェクト開発は、タスクとモデルの適合性分析から始まります：自動化を構築する前に、手動のプロトタイピングを通じてタスクがLLM処理に適しているかを検証します。本番パイプラインは、デバッグとキャッシングのためのファイルシステム状態管理を備えた、段階的で冪等なアーキテクチャ（取得、準備、処理、解析、レンダリング）に従います。明示的なフォーマット仕様を持つ構造化出力設計により、信頼性の高い解析が可能になります。最小限のアーキテクチャから始め、必要性が証明された場合にのみ複雑さを追加してください。

## 中核概念

このコレクションは3つの中核テーマを軸に構成されています。第一に、コンテキストの基礎は、コンテキストとは何か、アテンションメカニズムがどのように機能するか、そしてなぜコンテキストの品質が量よりも重要であるかを確立します。第二に、アーキテクチャパターンは、効果的なエージェントシステムを可能にする構造と協調メカニズムをカバーします。第三に、運用の卓越性は、本番システムの最適化と評価の継続的な作業に対処します。

## 実践的なガイダンス

各スキルは個別に、または組み合わせて使用できます。コンテキスト管理のメンタルモデルを確立するために、基礎から始めてください。システム要件に基づいてアーキテクチャパターンに分岐してください。本番システムの最適化時には運用スキルを参照してください。

これらのスキルはプラットフォームに依存せず、Claude Code、Cursor、またはカスタム指示やスキルのような構成をサポートする任意のエージェントフレームワークで動作します。

## 統合

このコレクションはそれ自体と統合されています。スキルは互いに参照し合い、共有された概念に基づいて構築されています。基礎スキルはすべての他のスキルにコンテキストを提供します。アーキテクチャスキル（マルチエージェント、メモリ、ツール）は複雑なシステムのために組み合わせることができます。運用スキル（最適化、評価）は、基礎スキルおよびアーキテクチャスキルを使用して構築された任意のシステムに適用されます。

## 参考資料

このコレクション内のスキル：
- [context-fundamentals](skills/context-fundamentals/SKILL.md)
- [context-degradation](skills/context-degradation/SKILL.md)
- [context-compression](skills/context-compression/SKILL.md)
- [multi-agent-patterns](skills/multi-agent-patterns/SKILL.md)
- [memory-systems](skills/memory-systems/SKILL.md)
- [tool-design](skills/tool-design/SKILL.md)
- [filesystem-context](skills/filesystem-context/SKILL.md)
- [hosted-agents](skills/hosted-agents/SKILL.md)
- [context-optimization](skills/context-optimization/SKILL.md)
- [evaluation](skills/evaluation/SKILL.md)
- [project-development](skills/project-development/SKILL.md)

コンテキストエンジニアリングに関する外部リソース：
- アテンションメカニズムとコンテキストウィンドウの制限に関する研究
- エージェントシステム設計に関する主要AIラボからの本番運用経験
- LangGraph、AutoGen、および CrewAI のフレームワークドキュメント

---

## スキルメタデータ

**作成日**: 2025-12-20
**最終更新日**: 2025-12-25
**著者**: Agent Skills for Context Engineering コントリビューター
**バージョン**: 1.2.0
